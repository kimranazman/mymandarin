/* 
  Border Beam Animation 
  Usage: Add class 'beam-border' to any container with relative positioning
*/
.beam-border {
  position: relative;
  overflow: hidden;
}

.beam-border::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  border-radius: inherit;
  padding: 2px; /* Border width */
  background: conic-gradient(from var(--beam-angle, 0deg), transparent 0%, var(--color-primary) 10%, transparent 20%);
  -webkit-mask: 
    linear-gradient(#fff 0 0) content-box, 
    linear-gradient(#fff 0 0);
  mask: 
    linear-gradient(#fff 0 0) content-box, 
    linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none;
  animation: beamRotate 3s linear infinite;
  z-index: 2;
}

@property --beam-angle {
  syntax: '<angle>';
  initial-value: 0deg;
  inherits: false;
}

@keyframes beamRotate {
  to {
    --beam-angle: 360deg;
  }
}

/* Fallback for browsers that don't support @property */
@supports not (background: paint(something)) {
  .beam-border::after {
    animation: none;
    background: var(--color-primary);
    opacity: 0.5;
  }
}

/*
  Flashlight / Spotlight Effect
  Requires JS to update --x and --y variables
*/
.flashlight-effect {
  /* position: relative; - Removed to prevent conflict with existing positioning */
  overflow: hidden;
}

.flashlight-effect::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: radial-gradient(
    400px circle at var(--x, 50%) var(--y, 50%),
    rgba(0, 242, 255, 0.1),
    transparent 50%
  );
  z-index: 2;
  pointer-events: none;
  mix-blend-mode: screen;
  transition: opacity 0.3s;
}

/*
  Clip Path Page Transition
  The 'page-transition' class should be on a fixed overlay
*/
.page-transition-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: var(--bg-deep);
  z-index: 9999;
  pointer-events: none;
  clip-path: circle(0% at 50% 50%);
  transition: clip-path 0.8s cubic-bezier(0.85, 0, 0.15, 1);
}

.page-transition-overlay.active {
  clip-path: circle(150% at 50% 50%);
}

/* Keyframe animations for entry elements */
.fade-in-up {
  animation: fadeInUp 0.5s ease-out forwards;
  opacity: 0;
}

.stagger-1 { animation-delay: 0.1s; }
.stagger-2 { animation-delay: 0.2s; }
.stagger-3 { animation-delay: 0.3s; }

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}